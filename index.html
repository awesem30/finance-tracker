<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>Finance Tracker â€“ Private-Safe</title>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Finance Tracker">
<style>
  :root{--bg:#0f1115;--card:#171a21;--ink:#e6e8ef;--muted:#9aa3b2;--accent:#3aa0ff;--danger:#ff5d5d;--ok:#3ddc97;--warn:#ffce3a;--border:#222836}
  *{box-sizing:border-box} html,body{height:100%}
  body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";color:var(--ink);background:linear-gradient(180deg,#0c0e13,#0f1115 30%)}
  header{padding:calc(10px + env(safe-area-inset-top)) 16px 12px;border-bottom:1px solid var(--border);display:flex;gap:8px;align-items:center;justify-content:space-between;flex-wrap:wrap;position:sticky;top:0;background:rgba(15,17,21,.85);backdrop-filter:blur(6px)}
  h1{font-size:17px;margin:0;font-weight:800;letter-spacing:.2px}
  .toolbar{display:flex;gap:8px;flex-wrap:wrap}
  button,select,input{background:#0d1117;border:1px solid var(--border);color:var(--ink);padding:10px 12px;border-radius:12px;font-size:16px;outline:none}
  button{background:var(--accent);border-color:transparent;color:#081018;font-weight:800;cursor:pointer}
  button.ghost{background:#0d1117;color:var(--ink);border-color:var(--border);font-weight:700}
  button.danger{background:var(--danger);color:#111}
  main{padding:14px;max-width:1100px;margin:0 auto}
  .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:12px}
  .card{grid-column:span 12;background:var(--card);border:1px solid var(--border);border-radius:16px;padding:12px}
  @media(min-width:760px){.span-6{grid-column:span 6} .span-4{grid-column:span 4} .span-3{grid-column:span 3}}
  .section-title{margin:0 0 6px 0;font-size:12px;color:var(--muted);font-weight:800;text-transform:uppercase;letter-spacing:.12em}
  .balances{display:grid;grid-template-columns:repeat(12,1fr);gap:10px}
  .stat{grid-column:span 12;background:#111420;border:1px solid var(--border);border-radius:12px;padding:12px}
  .stat h3{margin:0 0 2px 0;font-size:12px;color:var(--muted);font-weight:700}
  .stat .val{font-size:22px;font-weight:900}
  @media(min-width:760px){.stat{grid-column:span 3} .stat.span-6{grid-column:span 6}}
  .row{display:flex;gap:8px;flex-wrap:wrap}
  .row > *{flex:1 1 180px}
  .hint{font-size:12px;color:var(--muted)}
  table{width:100%;border-collapse:collapse}
  th,td{padding:8px;border-bottom:1px dashed var(--border);font-size:13px}
  th{text-align:left;color:var(--muted);font-weight:800}
  .right{text-align:right}
  .pill{display:inline-block;padding:2px 8px;border-radius:999px;background:#0d1117;border:1px solid var(--border);font-size:12px}
  .muted{color:var(--muted)}
  details{margin-top:8px}
  details summary{cursor:pointer;color:var(--muted);font-weight:700}
  .modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:center;justify-content:center;padding:20px;z-index:50}
  .modal.show{display:flex}
  .modal .sheet{background:var(--card);border:1px solid var(--border);border-radius:16px;max-width:760px;width:100%;padding:16px}
  .sheet h2{margin:0 0 8px 0;font-size:18px}
  .flex-end{display:flex;justify-content:flex-end;gap:8px;margin-top:10px}
  .nowrap{white-space:nowrap}
  .err{padding:10px;margin:10px 0;border:1px solid #5c1a1a;background:#2a0f0f;color:#ffb3b3;border-radius:10px;font-size:12px}
</style>
</head>
<body>
<header>
  <h1>Finance Tracker (Private-Safe)</h1>
  <div class="toolbar">
    <button class="ghost" id="btnBalances">Balances</button>
    <button class="ghost" id="btnExport">Export CSV</button>
    <button class="danger" id="btnReset">Erase</button>
  </div>
</header>
<main>
  <div class="err" id="errbox" style="display:none"></div>
  <div class="grid">
    <section class="card span-6">
      <h3 class="section-title">Money on hand</h3>
      <div class="balances" id="fundsStats"></div>
    </section>

    <section class="card span-6">
      <h3 class="section-title">Payables</h3>
      <div class="balances" id="debtStats"></div>
    </section>

    <section class="card span-6">
      <h3 class="section-title">Income / Deposit to fund</h3>
      <div class="row">
        <select id="incomeFund">
          <option value="GCash">GCash</option>
          <option value="UnionBank">UnionBank</option>
          <option value="Cash">Cash</option>
        </select>
        <input id="incomeLabel" type="text" placeholder="Label (e.g., allowance, gift, deposit)">
        <input id="incomeAmt" type="number" step="0.01" min="0" placeholder="Amount">
        <button id="incomeDo">Record</button>
      </div>
      <div class="hint">Examples: cash received, UnionBank deposit, money sent to GCash.</div>
    </section>

    <section class="card span-6">
      <h3 class="section-title">Transfer between funds</h3>
      <div class="row">
        <select id="tfFrom">
          <option value="GCash">GCash</option>
          <option value="UnionBank">UnionBank</option>
          <option value="Cash">Cash</option>
        </select>
        <select id="tfTo">
          <option value="UnionBank">UnionBank</option>
          <option value="GCash">GCash</option>
          <option value="Cash">Cash</option>
        </select>
        <input id="tfLabel" type="text" placeholder="Label (optional)">
        <input id="tfAmt" type="number" step="0.01" min="0" placeholder="Amount">
        <button id="tfDo">Record</button>
      </div>
      <div class="hint">Moves money without changing the grand total.</div>
    </section>

    <section class="card span-6">
      <h3 class="section-title">Spend from source of funds</h3>
      <div class="row">
        <select id="spendFund">
          <option value="GCash">GCash</option>
          <option value="UnionBank">UnionBank</option>
          <option value="Cash">Cash</option>
        </select>
        <input id="spendFundLabel" type="text" placeholder="Label (e.g., groceries)">
        <input id="spendFundAmt" type="number" step="0.01" min="0" placeholder="Amount">
        <button id="spendFundDo">Record</button>
      </div>
      <div class="hint">Press Enter in amount to record.</div>
    </section>

    <section class="card span-6">
      <h3 class="section-title">Spend on credit</h3>
      <div class="row">
        <select id="spendCredit">
          <option value="UB_CC">UnionBank Credit Card</option>
          <option value="PNB_CC">PNB Credit Card</option>
          <option value="GCredit">GCredit</option>
        </select>
        <input id="spendCreditLabel" type="text" placeholder="Label (e.g., appliances)">
        <input id="spendCreditAmt" type="number" step="0.01" min="0" placeholder="Amount">
        <button id="spendCreditDo">Record</button>
      </div>
      <div class="hint">Increases your payables.</div>
    </section>

    <section class="card span-6">
      <h3 class="section-title">Borrow cash</h3>
      <div class="row">
        <input id="borrowLabel" type="text" placeholder="From whom or note">
        <input id="borrowAmt" type="number" step="0.01" min="0" placeholder="Amount">
        <button id="borrowDo">Record</button>
      </div>
      <div class="hint">Adds to <span class="pill">Cash</span> and to <span class="pill">Cash Borrowed</span>.</div>
    </section>

    <section class="card span-6">
      <h3 class="section-title">Make a payment</h3>
      <div class="row">
        <select id="payWhichDebt">
          <option value="UB_CC">UnionBank Credit Card</option>
          <option value="PNB_CC">PNB Credit Card</option>
          <option value="GCredit">GCredit</option>
          <option value="CashBorrowed">Cash Borrowed</option>
        </select>
        <select id="payFromFund">
          <option value="GCash">GCash</option>
          <option value="UnionBank">UnionBank</option>
          <option value="Cash">Cash</option>
        </select>
        <input id="payAmt" type="number" step="0.01" min="0" placeholder="Amount">
        <button id="payDo">Record</button>
      </div>
      <div class="hint">Reduces the selected payable and the chosen source balance.</div>
    </section>

    <section class="card span-12">
      <h3 class="section-title">Transactions</h3>
      <details id="txToggle" open>
        <summary>Show / hide log</summary>
        <table id="txTable">
          <thead>
            <tr>
              <th>Date &amp; Time</th>
              <th>Type</th>
              <th>Account</th>
              <th>Label</th>
              <th class="right">Amount</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </details>
    </section>
  </div>
</main>

<!-- Modal: Starting balances -->
<div class="modal" id="balancesModal" role="dialog" aria-modal="true" aria-labelledby="balancesTitle">
  <div class="sheet">
    <h2 id="balancesTitle">Set starting balances</h2>
    <p class="muted">Amounts you have now and what you already owe. Data stays on this device.</p>
    <div class="grid">
      <div class="card">
        <h3 class="section-title">Money on hand</h3>
        <div class="grid">
          <div class="span-4">
            <label for="init_GCash">GCash</label>
            <input id="init_GCash" type="number" step="0.01" min="0">
          </div>
          <div class="span-4">
            <label for="init_UnionBank">UnionBank</label>
            <input id="init_UnionBank" type="number" step="0.01" min="0">
          </div>
          <div class="span-4">
            <label for="init_Cash">Cash</label>
            <input id="init_Cash" type="number" step="0.01" min="0">
          </div>
        </div>
      </div>

      <div class="card">
        <h3 class="section-title">Payables</h3>
        <div class="grid">
          <div class="span-3">
            <label for="init_UB_CC">UnionBank CC</label>
            <input id="init_UB_CC" type="number" step="0.01" min="0">
          </div>
          <div class="span-3">
            <label for="init_PNB_CC">PNB CC</label>
            <input id="init_PNB_CC" type="number" step="0.01" min="0">
          </div>
          <div class="span-3">
            <label for="init_GCredit">GCredit</label>
            <input id="init_GCredit" type="number" step="0.01" min="0">
          </div>
          <div class="span-3">
            <label for="init_CashBorrowed">Cash Borrowed</label>
            <input id="init_CashBorrowed" type="number" step="0.01" min="0">
          </div>
        </div>
      </div>
    </div>
    <div class="flex-end">
      <button class="ghost" id="balancesCancel">Cancel</button>
      <button id="balancesSave">Save</button>
    </div>
  </div>
</div>

<script>
(function(){
  function logErr(msg){
    var box = document.getElementById('errbox');
    box.style.display = 'block';
    box.textContent = msg;
  }

  // Safe storage wrapper
  var memoryStore = {};
  function canUseLS(){
    try{
      var k='__t'; window.localStorage.setItem(k,'1'); window.localStorage.removeItem(k); return true;
    }catch(e){ return false; }
  }
  var HAS_LS = canUseLS();
  function load(key, fallback){
    try{
      if(HAS_LS){
        var raw = window.localStorage.getItem(key);
        if(!raw) return JSON.parse(JSON.stringify(fallback));
        return Object.assign(JSON.parse(JSON.stringify(fallback)), JSON.parse(raw));
      }else{
        return memoryStore[key] ? Object.assign(JSON.parse(JSON.stringify(fallback)), JSON.parse(JSON.stringify(memoryStore[key]))) : JSON.parse(JSON.stringify(fallback));
      }
    }catch(e){
      logErr('load error: '+e.message);
      return JSON.parse(JSON.stringify(fallback));
    }
  }
  function save(key, val){
    try{
      if(HAS_LS){
        window.localStorage.setItem(key, JSON.stringify(val));
      }else{
        memoryStore[key] = JSON.parse(JSON.stringify(val));
      }
    }catch(e){
      logErr('save error: '+e.message+' (switching to memory)');
      HAS_LS = false;
      memoryStore[key] = JSON.parse(JSON.stringify(val));
    }
  }

  var CURRENCY = new Intl.NumberFormat('en-PH', { style:'currency', currency:'PHP', maximumFractionDigits:2 });
  var LS_KEYS = { BAL:'fin_balances_priv', DEBT:'fin_payables_priv', TX:'fin_txns_priv' };
  var defaultBalances = { GCash:0, UnionBank:0, Cash:0 };
  var defaultDebts = { UB_CC:0, PNB_CC:0, GCredit:0, CashBorrowed:0 };
  function nowISO(){ return new Date().toISOString(); }
  function pad(n){ n=String(n); return n.length<2 ? '0'+n : n; }
  function fmtDate(iso){ var d=new Date(iso); return d.getFullYear()+'-'+pad(d.getMonth()+1)+'-'+pad(d.getDate())+' '+pad(d.getHours())+':'+pad(d.getMinutes())+':'+pad(d.getSeconds()); }
  function fmt(n){ return CURRENCY.format(n); }

  var balances = load(LS_KEYS.BAL, defaultBalances);
  var debts = load(LS_KEYS.DEBT, defaultDebts);
  var tx = load(LS_KEYS.TX, []);

  function statCard(label, val, extraClass){
    var div = document.createElement('div');
    div.className = 'stat ' + (extraClass||'');
    div.innerHTML = '<h3>'+label+'</h3><div class="val">'+fmt(val)+'</div>';
    return div;
  }

  function renderStats(){
    var fundsStats = document.getElementById('fundsStats');
    var debtStats = document.getElementById('debtStats');
    fundsStats.innerHTML = '';
    var totalFunds = (balances.GCash||0)+(balances.UnionBank||0)+(balances.Cash||0);
    fundsStats.appendChild(statCard('GCash', balances.GCash));
    fundsStats.appendChild(statCard('UnionBank', balances.UnionBank));
    fundsStats.appendChild(statCard('Cash', balances.Cash));
    fundsStats.appendChild(statCard('Grand total', totalFunds, 'span-6'));

    debtStats.innerHTML = '';
    var dUB = debts.UB_CC||0, dPNB = debts.PNB_CC||0, dGC = debts.GCredit||0, dCB = debts.CashBorrowed||0;
    var totalDebts = dUB + dPNB + dGC + dCB;
    debtStats.appendChild(statCard('UnionBank CC', dUB));
    debtStats.appendChild(statCard('PNB CC', dPNB));
    debtStats.appendChild(statCard('GCredit', dGC));
    debtStats.appendChild(statCard('Cash Borrowed', dCB));
    debtStats.appendChild(statCard('Grand total', totalDebts, 'span-6'));
  }

  function pushTx(entry){ tx.unshift(entry); save(LS_KEYS.TX, tx); }
  function renderTx(){
    var txTableBody = document.querySelector('#txTable tbody');
    txTableBody.innerHTML = '';
    for(var i=0;i<tx.length;i++){
      var t = tx[i];
      var tr = document.createElement('tr');
      var acct = t.account2 ? (t.account + ' \u2192 ' + t.account2) : t.account;
      tr.innerHTML = '<td class="nowrap">'+fmtDate(t.date)+'</td><td><span class="pill">'+t.type+'</span></td><td>'+acct+'</td><td class="muted">'+(t.label||'')+'</td><td class="right">'+fmt(t.amount)+'</td>';
      txTableBody.appendChild(tr);
    }
  }

  function toNumber(input){
    var v = typeof input === 'string' ? input : input.value;
    var n = parseFloat(v);
    if(!isFinite(n) || n <= 0) return null;
    return Math.round(n * 100) / 100;
  }

  // UI elements
  var incomeFund = document.getElementById('incomeFund');
  var incomeLabel = document.getElementById('incomeLabel');
  var incomeAmt = document.getElementById('incomeAmt');

  var tfFrom = document.getElementById('tfFrom');
  var tfTo = document.getElementById('tfTo');
  var tfLabel = document.getElementById('tfLabel');
  var tfAmt = document.getElementById('tfAmt');

  var spendFund = document.getElementById('spendFund');
  var spendFundLabel = document.getElementById('spendFundLabel');
  var spendFundAmt = document.getElementById('spendFundAmt');

  var spendCreditSel = document.getElementById('spendCredit');
  var spendCreditLabel = document.getElementById('spendCreditLabel');
  var spendCreditAmt = document.getElementById('spendCreditAmt');

  var borrowLabel = document.getElementById('borrowLabel');
  var borrowAmt = document.getElementById('borrowAmt');

  var payWhichDebt = document.getElementById('payWhichDebt');
  var payFromFund = document.getElementById('payFromFund');
  var payAmt = document.getElementById('payAmt');

  function recordIncome(){
    var amount = toNumber(incomeAmt);
    if(!amount){ alert('Enter a valid positive amount.'); return; }
    var fund = incomeFund.value;
    balances[fund] = Math.round(((balances[fund]||0) + amount) * 100)/100;
    save(LS_KEYS.BAL, balances);
    pushTx({date:nowISO(), type:'Income', account:fund, label:incomeLabel.value.trim(), amount:amount});
    incomeLabel.value=''; incomeAmt.value='';
    renderStats(); renderTx();
  }

  function recordTransfer(){
    var from=tfFrom.value, to=tfTo.value;
    if(from===to){ alert('Choose two different accounts.'); return; }
    var amount = toNumber(tfAmt);
    if(!amount){ alert('Enter a valid positive amount.'); return; }
    if((balances[from]||0) < amount){ if(!confirm('This will overdraw '+from+'. Continue?')) return; }
    balances[from] = Math.round(((balances[from]||0) - amount) * 100)/100;
    balances[to] = Math.round(((balances[to]||0) + amount) * 100)/100;
    save(LS_KEYS.BAL, balances);
    pushTx({date:nowISO(), type:'Transfer', account:from, account2:to, label:tfLabel.value.trim(), amount:amount});
    tfLabel.value=''; tfAmt.value='';
    renderStats(); renderTx();
  }

  function recordSpendFund(){
    var amount = toNumber(spendFundAmt);
    if(!amount){ alert('Enter a valid positive amount.'); return; }
    var fund = spendFund.value;
    if((balances[fund]||0) < amount){ if(!confirm('This will overdraw '+fund+'. Continue?')) return; }
    balances[fund] = Math.round(((balances[fund]||0) - amount) * 100)/100;
    save(LS_KEYS.BAL, balances);
    pushTx({date:nowISO(), type:'Spend (fund)', account:fund, label:spendFundLabel.value.trim(), amount:amount});
    spendFundLabel.value=''; spendFundAmt.value='';
    renderStats(); renderTx();
  }

  function recordSpendCredit(){
    var amount = toNumber(spendCreditAmt);
    if(!amount){ alert('Enter a valid positive amount.'); return; }
    var card = spendCreditSel.value;
    debts[card] = Math.round(((debts[card]||0) + amount) * 100)/100;
    save(LS_KEYS.DEBT, debts);
    pushTx({date:nowISO(), type:'Spend (credit)', account:(card==='UB_CC'?'UnionBank CC':card==='PNB_CC'?'PNB CC':card), label:spendCreditLabel.value.trim(), amount:amount});
    spendCreditLabel.value=''; spendCreditAmt.value='';
    renderStats(); renderTx();
  }

  function recordBorrowCash(){
    var amount = toNumber(borrowAmt);
    if(!amount){ alert('Enter a valid positive amount.'); return; }
    balances.Cash = Math.round(((balances.Cash||0) + amount) * 100)/100;
    debts.CashBorrowed = Math.round(((debts.CashBorrowed||0) + amount) * 100)/100;
    save(LS_KEYS.BAL, balances); save(LS_KEYS.DEBT, debts);
    pushTx({date:nowISO(), type:'Borrow cash', account:'Cash Borrowed', account2:'Cash', label:borrowLabel.value.trim(), amount:amount});
    borrowLabel.value=''; borrowAmt.value='';
    renderStats(); renderTx();
  }

  function recordPayment(){
    var amount = toNumber(payAmt);
    if(!amount){ alert('Enter a valid positive amount.'); return; }
    var which = payWhichDebt.value;
    var src = payFromFund.value;
    if((balances[src]||0) < amount){ if(!confirm('This will overdraw '+src+'. Continue?')) return; }
    balances[src] = Math.round(((balances[src]||0) - amount) * 100)/100;
    debts[which] = Math.max(0, Math.round(((debts[which]||0) - amount) * 100)/100));
    save(LS_KEYS.BAL, balances); save(LS_KEYS.DEBT, debts);
    pushTx({date:nowISO(), type:'Payment', account:src, account2:(which==='UB_CC'?'UnionBank CC':which==='PNB_CC'?'PNB CC':which), label:'', amount:amount});
    payAmt.value='';
    renderStats(); renderTx();
  }

  // Modal
  function openBalancesModal(){
    document.getElementById('init_GCash').value = balances.GCash || 0;
    document.getElementById('init_UnionBank').value = balances.UnionBank || 0;
    document.getElementById('init_Cash').value = balances.Cash || 0;
    document.getElementById('init_UB_CC').value = debts.UB_CC || 0;
    document.getElementById('init_PNB_CC').value = debts.PNB_CC || 0;
    document.getElementById('init_GCredit').value = debts.GCredit || 0;
    document.getElementById('init_CashBorrowed').value = debts.CashBorrowed || 0;
    document.getElementById('balancesModal').classList.add('show');
  }
  function closeBalancesModal(){ document.getElementById('balancesModal').classList.remove('show'); }
  function saveBalancesFromModal(){
    balances.GCash = Number(document.getElementById('init_GCash').value||0);
    balances.UnionBank = Number(document.getElementById('init_UnionBank').value||0);
    balances.Cash = Number(document.getElementById('init_Cash').value||0);
    debts.UB_CC = Number(document.getElementById('init_UB_CC').value||0);
    debts.PNB_CC = Number(document.getElementById('init_PNB_CC').value||0);
    debts.GCredit = Number(document.getElementById('init_GCredit').value||0);
    debts.CashBorrowed = Number(document.getElementById('init_CashBorrowed').value||0);
    save(LS_KEYS.BAL, balances); save(LS_KEYS.DEBT, debts);
    renderStats(); closeBalancesModal();
  }

  function exportCSV(){
    var headers = ['date','type','account','account2','label','amount'];
    var lines = [headers.join(',')];
    for(var i=tx.length-1;i>=0;i--){
      var t = tx[i];
      var label = String(t.label||'').replace(/"/g,'""');
      var row = ['"'+t.date+'"','"'+(t.type||'')+'"','"'+(t.account||'')+'"','"'+(t.account2||'')+'"','"'+label+'"','"'+t.amount+'"'];
      lines.push(row.join(','));
    }
    try{
      var blob = new Blob([lines.join('\n')], {type:'text/csv'});
      var url = URL.createObjectURL(blob);
      var a = document.createElement('a');
      a.href = url; a.download = 'transactions.csv';
      document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
    }catch(e){ logErr('export error: '+e.message); }
  }

  function resetAll(){
    if(!confirm('Erase all balances and transactions? This cannot be undone.')) return;
    balances = { GCash:0, UnionBank:0, Cash:0 };
    debts = { UB_CC:0, PNB_CC:0, GCredit:0, CashBorrowed:0 };
    tx = [];
    save(LS_KEYS.BAL, balances); save(LS_KEYS.DEBT, debts); save(LS_KEYS.TX, tx);
    renderStats(); renderTx();
  }

  // Bind
  document.getElementById('btnBalances').addEventListener('click', openBalancesModal);
  document.getElementById('balancesCancel').addEventListener('click', closeBalancesModal);
  document.getElementById('balancesSave').addEventListener('click', saveBalancesFromModal);
  document.getElementById('btnExport').addEventListener('click', exportCSV);
  document.getElementById('btnReset').addEventListener('click', resetAll);

  document.getElementById('incomeDo').addEventListener('click', recordIncome);
  document.getElementById('incomeAmt').addEventListener('keydown', function(e){ if(e.key==='Enter'){ recordIncome(); }});

  document.getElementById('tfDo').addEventListener('click', recordTransfer);
  document.getElementById('tfAmt').addEventListener('keydown', function(e){ if(e.key==='Enter'){ recordTransfer(); }});

  document.getElementById('spendFundDo').addEventListener('click', recordSpendFund);
  document.getElementById('spendFundAmt').addEventListener('keydown', function(e){ if(e.key==='Enter'){ recordSpendFund(); }});

  document.getElementById('spendCreditDo').addEventListener('click', recordSpendCredit);
  document.getElementById('spendCreditAmt').addEventListener('keydown', function(e){ if(e.key==='Enter'){ recordSpendCredit(); }});

  document.getElementById('borrowDo').addEventListener('click', recordBorrowCash);
  document.getElementById('borrowAmt').addEventListener('keydown', function(e){ if(e.key==='Enter'){ recordBorrowCash(); }});

  document.getElementById('payDo').addEventListener('click', recordPayment);
  document.getElementById('payAmt').addEventListener('keydown', function(e){ if(e.key==='Enter'){ recordPayment(); }});

  renderStats(); renderTx();
})();
</script>
</body>
</html>
